"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}define(["web-fc-solve","libfcs-wrap","dist/fc_solve_find_index_s2ints"],function(w,Module,s2i){var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return{FC_Solve_Bookmarking:function(){function FC_Solve_Bookmarking(args){_classCallCheck(this,FC_Solve_Bookmarking);this.bookmark_controls=args.bookmark_controls,this.show=args.show}return _createClass(FC_Solve_Bookmarking,[{key:"_get_loc",value:function(){return window.location}},{key:"_get_base_url",value:function(){var loc=this._get_loc();return loc.protocol+"//"+loc.host+loc.pathname}},{key:"_each_control",value:function(cb){this.bookmark_controls.forEach(cb)}},{key:"on_bookmarking",value:function(){var control_values={};this._each_control(function(myid){control_values[myid]=function(myid){var ctl=$("#"+myid);return ctl.is(":checkbox")?ctl.is(":checked")?"1":"0":ctl.val()}(myid)});var bookmark_string=this._get_base_url()+"?"+$.querystring(control_values);$("#fcs_bm_results_input").val(bookmark_string),$("#fcs_bm_results_a").attr("href",bookmark_string),$("#fcs_bookmark_wrapper").removeClass("disabled")}},{key:"restore_bookmark",value:function(){var qs=this._get_loc().search;if(qs.length){var params=$.querystring(qs.substr(1));this._each_control(function(myid){var ctl=$("#"+myid);ctl.is(":checkbox")?ctl.prop("checked","1"==params[myid]):ctl.val(params[myid])}),this.show.forEach(function(rec){var id=rec.id,should_toggle=!1;rec.deps.forEach(function(d){$("#"+d).val().length>0&&(should_toggle=!0)}),should_toggle&&$("#"+id).hasClass("disabled")&&rec.callback()})}}}]),FC_Solve_Bookmarking}(),escapeHtml:function(string){return String(string).replace(/[&<>"'\/]/g,function(s){return entityMap[s]})},populate_input_with_numbered_deal:function(){var input_s=$("#deal_number").val();if(input_s.match(/^[1-9][0-9]*$/)){var previous_deal_idx=parseInt(input_s);$("#stdin").val("# MS Freecell Deal #"+previous_deal_idx+"\n#\n"+w.deal_ms_fc_board(previous_deal_idx))}else alert("Wrong input - please enter a positive integer.")}}});